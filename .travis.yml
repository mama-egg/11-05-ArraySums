language: java
jdk:
  - oraclejdk7
env:
  global:
    secure: "d73adfc8af68c19aadab818670d3999ed4ce75cd"
    
before_script: 
  - mkdir $HOME/artifacts
  - cd src

script: javac -g ArraySums.java  
after_success: 
  - java -cp . ArraySums > solution.txt
  - diff output.txt solution.txt > diff.txt
  - cp output.txt $HOME/artifacts/output-${TRAVIS_PULL_REQUEST}.txt
  - cp solution.txt $HOME/artifacts/solution-${TRAVIS_PULL_REQUEST}.txt
  - cp diff.txt $HOME/artifacts/diff-${TRAVIS_PULL_REQUEST}.txt
  - cd $HOME/artifacts
  - dir
  
after_script: 
  - cd $HOME
  - git clone --depth=50 --branch=gh-pages git://github.com/${TRAVIS_REPO_SLUG}.git gh-pages > /dev/null
  - cd gh-pages
  - git checkout -fq gh-pages
  - dir
  
